<!DOCTYPE html>
<html>
  <head>
    <link rel='stylesheet' type='css' href='styles.css'>
  </head>
  <script src="lib/lodash.js" charset="utf-8"></script>
  <body>
    <div class="scoreboard">
      <!-- Modify the scoreboard when important events occur in your game! -->
      <div class="high">High score: <span>0</span></div>
      <div class="current">Current score: <span>0</span></div>
      <div class="collisions">Collisions: <span>0</span></div>
      <div class="container"></div>
    </div>
    <script src="lib/d3.js" charset="utf-8"></script>
    <script src='watchout.js'></script>
<style>

text {
  font: bold 48px monospace;
}

.enter {
  fill: green;
}

.update {
  fill: #333;
}

.container{
  background-color: grey;
}

</style>


<body>

<script>
//used to style part of the game board
var gameOptions = {
  height: 450,
  width: 700,
  nEnemies: 30,
  padding: 20
  };

var alphabet = "christophersalam".split("");

var svg = d3.select(".container").append("svg")
    .attr("width", gameOptions.width)
    .attr("height", gameOptions.height)
  .append("g")
    //.attr("transform", "translate(32," + (height / 2) + ")");

function update(data) {

  // DATA JOIN
  // Join new data with old elements, if any.
  var text = svg.selectAll("text")
      .data(data);

  // UPDATE
  // Update old elements as needed.
  text.attr("class", "update");

  // ENTER
  // Create new elements as needed.
  text.enter().append("text")
      .attr("class", "enter")
      .attr("x", function(d, i) { return Math.random()*(gameOptions.width-50); })
      .attr("y", function(d, i) { return Math.random()*gameOptions.height; })
      .attr("dy", ".35em");

  // ENTER + UPDATE
  // Appending to the enter selection expands the update selection to include
  // entering elements; so, operations on the update selection after appending to
  // the enter selection will apply to both entering and updating nodes.
  text.text(function(d) { return d; });

  // EXIT
  // Remove old elements as needed.
  text.exit().remove();
}

// The initial display.
update(alphabet);

// Grab a random sample of letters from the alphabet, in alphabetical order.
setInterval(function() {
  update(d3.shuffle(alphabet)
      .slice(0, Math.floor(Math.random() * 26))
      .sort());
}, 1500);

// var transitions = function(){

//   //this moves the circles from their current location to a new location over a specificed amount of time
//   d3.selectAll("circle").transition()
//               .attr("cx", function(d){return d * Math.random() * 1.7;})
//               .attr("cy", function(d){return d * Math.random();})
//               .duration(500)
//               //.delay()
//               // .each("end", "repeat");
// };

// //console.log('enemyArray',circles);

// createEnemies();
// //transitions();
// setInterval(transitions, 500);


</script>


  </body>
</html>